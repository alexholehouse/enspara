name: Upload Python Package

on:
  pull_request:
  push:
    branches:         # array of glob patterns matching against refs/heads. Optional; defaults to all
      - master          # triggers on pushes that contain changes in master

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
    - name: Sleep for 5 minutes
      uses: jakejarvis/wait-action@master
      with:
        time: '5m'
    - uses: actions/checkout@master
    - name: Set up Python
      uses: actions/setup-python@master
      with:
        python-version: 3.7
    - name: Setup conda
      uses: s-weigand/setup-conda@master
      with:
        #update-conda: true
        python-version: 3.7
        #conda-channels: anaconda, conda-forge
    - name: publish-to-conda
      uses: Longbowman/conda-package-publish-action@0.3.22
      with:
        subDir: '.'
        AnacondaUsername: ${{ secrets.CONDA_USERNAME }}
        AnacondaPassword: ${{ secrets.CONDA_PASSWORD }}
   
 
   
